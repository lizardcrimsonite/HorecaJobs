<div class="job-list-container">
  <header class="page-header">
    <h1>Empleos en HORECA</h1>
    <p>Encuentra tu pr√≥xima oportunidad en hosteler√≠a y restauraci√≥n</p>
  </header>

  <!-- Filtros -->
  <div class="filters-section">
    <div class="search-bar">
      <input
        type="text"
        [(ngModel)]="searchTerm"
        (ngModelChange)="applyFilters()"
        placeholder="üîç Buscar por t√≠tulo, empresa o descripci√≥n..."
        class="search-input"
      />
    </div>

    <div class="filters-grid">
      <select 
        [(ngModel)]="selectedCategory" 
        (ngModelChange)="applyFilters()"
        class="filter-select"
      >
        <option *ngFor="let cat of categories" [value]="cat.value">
          {{ cat.label }}
        </option>
      </select>

      <select 
        [(ngModel)]="selectedType" 
        (ngModelChange)="applyFilters()"
        class="filter-select"
      >
        <option *ngFor="let type of types" [value]="type.value">
          {{ type.label }}
        </option>
      </select>

      <select 
        [(ngModel)]="selectedLocation" 
        (ngModelChange)="applyFilters()"
        class="filter-select"
      >
        <option value="">Todas las ubicaciones</option>
        <option *ngFor="let loc of locations" [value]="loc">
          {{ loc || 'Todas' }}
        </option>
      </select>

      <button 
        *ngIf="hasActiveFilters()" 
        (click)="clearFilters()" 
        class="btn-clear-filters"
      >
        ‚úï Limpiar filtros
      </button>
    </div>

    <div class="results-count">
      <p>
        <strong>{{ filteredJobs.length }}</strong> 
        {{ filteredJobs.length === 1 ? 'empleo encontrado' : 'empleos encontrados' }}
      </p>
    </div>
  </div>

  <!-- Loading -->
  <div class="loading" *ngIf="loading">
    <p>Cargando empleos...</p>
  </div>

  <!-- Lista de empleos -->
  <div class="jobs-grid" *ngIf="!loading && filteredJobs.length > 0">
    <div class="job-card" *ngFor="let job of filteredJobs" (click)="viewJob(job.id)">
      <div class="job-header">
        <h2>{{ job.title }}</h2>
        <span class="job-type">{{ getTypeLabel(job.type) }}</span>
      </div>
      
      <div class="job-company">
        <strong>{{ job.company }}</strong>
      </div>
      
      <div class="job-location">
        üìç {{ job.location }}
      </div>
      
      <div class="job-category">
        üè∑Ô∏è {{ getCategoryLabel(job.category) }}
      </div>
      
      <div class="job-description">
        {{ job.description }}
      </div>
      
      <div class="job-salary" *ngIf="job.salary">
        üí∞ {{ job.salary.min | number }} - {{ job.salary.max | number }} {{ job.salary.currency }}
      </div>
      
      <button class="btn-view">Ver detalles</button>
    </div>
  </div>

  <!-- Sin resultados -->
  <div class="no-results" *ngIf="!loading && filteredJobs.length === 0">
    <div class="no-results-content">
      <span class="icon">üòï</span>
      <h3>No se encontraron empleos</h3>
      <p>Intenta ajustar tus filtros de b√∫squeda</p>
      <button (click)="clearFilters()" class="btn-clear">Limpiar filtros</button>
    </div>
  </div>
</div>