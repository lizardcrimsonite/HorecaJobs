<div class="job-detail-page" *ngIf="job">
  <div class="job-detail-container">
    <!-- BotÃ³n volver -->
    <button class="btn-back" (click)="goBack()">
      â† Volver a empleos
    </button>

    <!-- Header del empleo -->
    <div class="job-header">
      <div class="job-header-content">
        <h1 class="job-title">{{ job.title }}</h1>
        <h2 class="company-name">{{ job.company }}</h2>
        
        <div class="job-meta">
          <span class="meta-item">
            <span class="icon">ğŸ“</span>
            {{ job.location }}
          </span>
          <span class="meta-item">
            <span class="icon">ğŸ’¼</span>
            {{ getJobTypeLabel(job.type) }}
          </span>
          <span class="meta-item">
            <span class="icon">ğŸ·ï¸</span>
            {{ getCategoryLabel(job.category) }}
          </span>
          <span class="meta-item">
            <span class="icon">ğŸ“…</span>
            Publicado: {{ job.postedDate | date:'dd/MM/yyyy' }}
          </span>
        </div>

        <div class="salary-badge" *ngIf="job.salary">
          ğŸ’° {{ job.salary.min | number }} - {{ job.salary.max | number }} {{ job.salary.currency }}/mes
        </div>
      </div>
    </div>

    <!-- Contenido principal -->
    <div class="job-content">
      <div class="main-content">
        <!-- DescripciÃ³n -->
        <section class="content-section">
          <h3>ğŸ“‹ DescripciÃ³n del puesto</h3>
          <p class="description">{{ job.description }}</p>
        </section>

        <!-- Requisitos -->
        <section class="content-section">
          <h3>âœ… Requisitos</h3>
          <ul class="requirements-list">
            <li *ngFor="let req of job.requirements">{{ req }}</li>
          </ul>
        </section>

        <!-- BotÃ³n de aplicar -->
        <div class="apply-section">
          <button 
            *ngIf="!hasApplied" 
            class="btn-apply" 
            (click)="applyToJob()"
            [disabled]="applying"
          >
            <span *ngIf="!applying">ğŸš€ Aplicar a este empleo</span>
            <span *ngIf="applying">Enviando aplicaciÃ³n...</span>
          </button>

          <div *ngIf="hasApplied" class="applied-message">
            <span class="icon">âœ…</span>
            <span>Ya has aplicado a este empleo</span>
          </div>

          <p class="apply-note" *ngIf="!isLoggedIn">
            <span class="icon">â„¹ï¸</span>
            Necesitas iniciar sesiÃ³n para aplicar a este empleo
          </p>
        </div>
      </div>

      <!-- Sidebar -->
      <aside class="sidebar">
        <div class="sidebar-card">
          <h4>ğŸ“Š InformaciÃ³n adicional</h4>
          <div class="info-item">
            <span class="label">Tipo de contrato:</span>
            <span class="value">{{ getJobTypeLabel(job.type) }}</span>
          </div>
          <div class="info-item">
            <span class="label">CategorÃ­a:</span>
            <span class="value">{{ getCategoryLabel(job.category) }}</span>
          </div>
          <div class="info-item">
            <span class="label">Estado:</span>
            <span class="value status-active" *ngIf="job.isActive">ğŸŸ¢ Activo</span>
            <span class="value status-inactive" *ngIf="!job.isActive">ğŸ”´ Cerrado</span>
          </div>
        </div>

        <div class="sidebar-card tip-card">
          <h4>ğŸ’¡ Consejo</h4>
          <p>AsegÃºrate de que tu perfil estÃ© completo antes de aplicar. Los empleadores valoran la informaciÃ³n detallada.</p>
        </div>
      </aside>
    </div>
  </div>
</div>

<div class="loading" *ngIf="!job">
  <p>Cargando detalles del empleo...</p>
</div>